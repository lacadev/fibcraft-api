{% extends "layout.html" %}
{% block content %}
  <div class="row">
    <div class="container">
      <form class="row" action="/signup/" method="post">
        <div class="row">
          <div class="input-field col s6">
            <input placeholder="willyrex777" name="username" id="mc_name" type="text" class="validate" required>
            <label for="mc_name">Minecraft name</label>
          </div>
          <div class="input-field col s12 m6">
            <input placeholder="name.surname@est.fib.upc.edu" name="email" id="email_address" type="email" class="validate" required>
            <label for="email_address">FIB email address</label>
          </div>
        </div>
        <button type="submit" class="btn waves-effect waves-light green darken-3 col s10 offset-s1 m4 offset-m4">LET ME IN ALREADY</button>
      </form>
    </div>
  </div>

	<!-- Signup Result Modal -->
  {% with messages = get_flashed_messages(with_categories=true) %}
		{% if messages %}
				{% for category, message in messages %}
					<div id="modal1" class="modal">
							<div class="modal-content">
								{% if category == "error" %}
									<h4 class="red-text">Error</h4>
									<p>{{ message }}</p>
								{% endif %}
								{% if category == "message" %}
									<h4 class="green-text">Success!</h4>
									<p>{{ message }}</p>
								{% endif %}
							</div>
							<div class="modal-footer">
								<a href="#!" class="modal-close waves-effect waves-green btn-flat">OK</a>
							</div>
						</div>
				{% endfor %}
		{% endif %}
	{% endwith %}<Paste>
{% endblock %}

{% block script %}
  M.AutoInit();

  document.addEventListener('DOMContentLoaded', function() {
    var elem = document.getElementById('modal1');
    var instance = M.Modal.getInstance(elem);
    instance.open();
  });
{% endblock %}
